(this["webpackJsonpstarter-bt5"]=this["webpackJsonpstarter-bt5"]||[]).push([[3],{387:function(e,t,c){"use strict";var n=c(17),a=c(3);t.a=function(e){return Object(a.jsxs)(n.g,{children:[Object(a.jsx)(n.j,{alt:"Card image cap",src:e.image}),Object(a.jsxs)(n.h,{className:"p-4",children:[Object(a.jsx)(n.m,{tag:"h5",children:e.title}),Object(a.jsx)(n.k,{children:e.subtitle}),Object(a.jsx)(n.l,{className:"mt-3",children:e.text}),Object(a.jsx)(n.e,{color:e.color,children:"Read More"})]})]})}},388:function(e,t,c){"use strict";t.a=c.p+"static/media/bg1.537e9bd5.jpg"},389:function(e,t,c){"use strict";t.a=c.p+"static/media/bg2.94ab4b60.jpg"},390:function(e,t,c){"use strict";t.a=c.p+"static/media/bg3.5668e1f0.jpg"},391:function(e,t,c){"use strict";t.a=c.p+"static/media/bg4.62319dde.jpg"},394:function(e,t,c){},406:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(9),s=c(17),i=c(377),r=c(374),l=c(382),j=c(372),b=c(57),d=c.n(b),o=c(176),u=c(367),O=c(371),g=c(378),x=(c(392),c(3)),h=c(0),m=(c(190),function(e){return Object(x.jsx)(s.g,{children:Object(x.jsx)(s.h,{children:Object(x.jsxs)("div",{className:"d-flex",children:[Object(x.jsx)("div",{className:"circle-box lg-box d-inline-block ".concat(e.bg),children:Object(x.jsx)("i",{className:e.icon})}),Object(x.jsxs)("div",{className:"ms-3",children:[Object(x.jsx)("h3",{className:"mb-0 font-weight-bold",children:e.earning}),Object(x.jsx)("small",{className:"text-muted",children:e.subtitle})]})]})})})}),f=(c(387),c(388)),p=c(389),v=c(390),w=c(391),S=c(45),N=c(21),D=c(64),C=(c(109),c(163),c(145)),k=c(161),A=(c(394),c.p+"static/media/spinner.e8697d57.gif"),y=Object(h.createContext)({scan:null,write:null,setActions:function(){}}),F=function(){var e=Object(h.useContext)(y),t=e.actions,c=e.setActions;return Object(x.jsxs)("div",{className:"scanner",children:[Object(x.jsx)("p",{className:"scanner-exit",onClick:function(){return c(Object(n.a)(Object(n.a)({},t),{},{scan:null}))},children:"X"}),Object(x.jsxs)("div",{className:"scanner-container",children:[Object(x.jsx)("img",{src:A,alt:"spinning log",className:"scanner-image"}),Object(x.jsx)("p",{className:"scanner-text",children:"Scanning..."})]})]})},T=(c(160),c(144),c(69),c(92)),R=function(){var e=Object(h.useState)(""),t=Object(a.a)(e,2),c=(t[0],t[1],Object(h.useState)("111")),n=Object(a.a)(c,2),s=n[0],i=(n[1],Object(h.useContext)(y)),r=i.actions,l=i.setActions,j=Object(T.b)(),b=Object(h.useCallback)(Object(k.a)(Object(C.a)().mark((function e(){return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({scan:"scanned",write:null});case 1:case"end":return e.stop()}}),e)}))),[l]),d=Object(N.e)();return Object(h.useEffect)((function(){b()}),[b]),Object(x.jsx)(x.Fragment,{children:"scanned"===r.scan?Object(x.jsxs)("div",{children:["scanner"===j&&d("/tags/scan/"+s),"tagger"===j&&d("/tags/register/"+s),"admin"===j&&d("/tags/register/"+s),"superAdmin"===j&&d("/tags/register/"+s)]}):Object(x.jsx)(F,{status:r.scan})})},E=c(78),H=c(162);f.a,p.a,v.a,w.a,t.default=function(){var e=Object(h.useState)(d()()),t=Object(a.a)(e,2),c=t[0],b=t[1],f=Object(h.useState)(),p=Object(a.a)(f,2),v=p[0],w=p[1],C=Object(h.useState)(d()()),k=Object(a.a)(C,2),A=(k[0],k[1],Object(T.b)()),F=(Object(N.e)(),Object(D.b)(),Object(h.useState)(!1)),I=Object(a.a)(F,2),J=I[0],L=I[1],P=Object(D.c)((function(e){return e.tagDetails.tagScanStatus})),W=Object(h.useState)(null),B=Object(a.a)(W,2),M=B[0],V=B[1],X=M||{},q=X.scan,z=(X.write,{actions:M,setActions:V}),G=function(e){V(Object(n.a)({},e))};Object(h.useState)({total:"",scanned:"",left:""});Object(h.useEffect)((function(){console.log(P),L(P)}),[P]),Object(h.useEffect)((function(){var e={date:new Date(c).toLocaleDateString(),cityName:v};console.log(e),E.a.getTagStatusForVisitor(e).then((function(e){console.log(e.data),L((function(t){return Object(n.a)(Object(n.a)({},t),{},{total:e.data.totalTags,scanned:e.data.scannedTags,left:e.data.notScanned})}))})).catch((function(e){return console.log(e)}))}),[c,v]);return Object(x.jsxs)("div",{children:[Object(x.jsxs)(s.F,{children:[Object(x.jsx)(s.n,{sm:"6",lg:"6",children:("scanner"===A||"admin"===A||"superAdmin"===A)&&Object(x.jsx)(S.a,{title:"Scan Tag",children:Object(x.jsx)(s.F,{children:Object(x.jsx)(s.n,{lg:"8",children:Object(x.jsx)("div",{className:"mt-3",children:Object(x.jsx)(s.e,{color:"primary",disabled:"scanner"!==A,onClick:function(){return G({scan:"scanning",write:null})},children:"Scan"})})})})})}),Object(x.jsx)(s.n,{sm:"6",lg:"6",children:("tagger"===A||"admin"===A||"superAdmin"===A)&&Object(x.jsx)(S.a,{title:"Register New Tag",children:Object(x.jsx)(s.F,{children:Object(x.jsx)(s.n,{lg:"8",children:Object(x.jsx)("div",{className:"mt-3",children:Object(x.jsx)(s.e,{color:"primary",onClick:function(){return G({scan:"scanning",write:null})},children:"Register"})})})})})})]}),("visitor"===A||"admin"===A||"superAdmin"===A)&&Object(x.jsxs)(s.F,{children:[Object(x.jsx)(s.n,{sm:"6",lg:"3",children:Object(x.jsxs)(H.a,{children:[Object(x.jsxs)(l.a,{sx:{marginBottom:1,minWidth:"100%"},children:[Object(x.jsx)(i.a,{id:"demo-simple-select-autowidth-label",children:"City"}),Object(x.jsxs)(j.a,{labelId:"city",id:"city",value:v,onChange:function(e){w(e.target.value)},autoWidth:!0,label:"City",children:[Object(x.jsx)(r.a,{value:"",children:Object(x.jsx)("em",{children:"None"})}),Object(x.jsx)(r.a,{value:"Hisar",children:"Hisar"}),Object(x.jsx)(r.a,{value:"Sirsa",children:"Sirsa"}),Object(x.jsx)(r.a,{value:"Delhi",children:"Delhi"})]})]}),Object(x.jsx)(o.a,{dateAdapter:u.a,children:Object(x.jsx)(O.a,{value:c,onChange:function(e){b(e)},renderInput:function(e){return Object(x.jsx)(g.a,Object(n.a)({},e))},disableFuture:!0,shouldDisableDate:function(e){var t=new Date(e);if(t>new Date)return!0;if(0===t.getDay())return!0;var c=new Date;return c.setDate(c.getDate()-3),t<c}})})]})}),Object(x.jsx)(s.n,{sm:"6",lg:"3",children:Object(x.jsx)(m,{bg:"bg-light-info text-into",title:"Sales",subtitle:"Total",earning:J.total,icon:"bi bi-bag"})}),Object(x.jsx)(s.n,{sm:"6",lg:"3",children:Object(x.jsx)(m,{bg:"bg-light-warning text-warning",title:"New Project",subtitle:"Scanned",earning:J.scanned,icon:"bi bi-basket3"})}),Object(x.jsx)(s.n,{sm:"6",lg:"3",children:Object(x.jsx)(m,{bg:"bg-light-danger text-danger",title:"Refunds",subtitle:"Left",earning:J.left,icon:"bi bi-wrong"})})]}),Object(x.jsx)(y.Provider,{value:z,children:q&&Object(x.jsx)(R,{})})]})}}}]);
//# sourceMappingURL=3.08719bf6.chunk.js.map